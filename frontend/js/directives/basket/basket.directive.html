
<span ng-controller="OrderController as orderCTRL" ng-if="basket.items.length">

  <!-- List out items in order -->
  <li ng-repeat="item in basket.items" class="userLi">

    <form ng-submit="orderCTRL.removeProduct(item.product._id)" class="removeForm">
      <input type="submit" value="X" class="removeInput">
    </form>

    <form ng-submit="orderCTRL.editOrder(basket.items)">

      <p class="titleOrder">{{item.product.title}}</p>
      qty:
      <input type="number" ng-model="item.qty" min="1">
      <input type="submit" value="edit order">
    </form>

    <p class="priceOrder">{{item.product.price * item.qty | price}}</p>
  </li>

  <b ng-if="thisOrder.has_been_submitted">Status: {{ basket.has_been_processed ? "Awaiting Collection" : "Being Prepaired!"}}</b>
  <b class="order-total userLi">Â£ {{ basket.total }} </b>

  <section ng-if="basket.items.length">
    <button
      ng-click="showNotes = true">
      Submit Order
    </button>

    <div id="order-submit" ng-if="showNotes">

      <textarea
        placeholder="Alergic to nuts..."
        name="notes"
        cols="60"
        rows="7"
        ng-model="basket.notes">
      </textarea>

      <button ng-click="orderCTRL.submitOrder()">Confirm</button>
    </div>

  </section>

</span>

<b ng-if="!basket.items.length" class="order-total userLi"> Your basket is empty </b>
